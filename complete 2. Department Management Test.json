[
  {"test": "POST /enterprise/x-spark-test/departments (create, positive)", "curl": "curl -X POST http://localhost:8383/enterprise/x-spark-test/departments -H 'Authorization: Bearer <TOKEN>' -H 'Content-Type: application/json' -d '{\"name\":\"test-dept-1\",\"description\":\"Test Department 1\",\"parentDepartmentId\":null,\"managers\":[]}'", "response": {"success":true,"message":"Department created successfully","department":{"id":"test-dept-1","name":"test-dept-1","description":"Test Department 1","parentDepartmentId":null,"createdAt":"2025-07-24T14:21:46.487Z","updatedAt":"2025-07-24T14:21:46.487Z","memberCount":0,"managers":[]},"managersAddedAsEmployees":[],"employeesCollectionPath":"enterprise/x-spark-test/departments/test-dept-1/employees"}},
  {"test": "GET /enterprise/x-spark-test/departments (get all)", "curl": "curl -X GET http://localhost:8383/enterprise/x-spark-test/departments -H 'Authorization: Bearer <TOKEN>'", "response": {"success":true,"departments":[{"id":"test-dept-1","name":"test-dept-1","description":"Test Department 1","parentDepartmentId":null,"createdAt":{"_seconds":1753366906,"_nanoseconds":487000000},"updatedAt":{"_seconds":1753366906,"_nanoseconds":487000000},"memberCount":0,"managers":[]},{"id":"testdep","name":"testDep","description":"","parentDepartmentId":null,"createdAt":{"_seconds":1753364278,"_nanoseconds":22000000},"updatedAt":{"_seconds":1753364278,"_nanoseconds":22000000},"managers":[{"_firestore":{"projectId":"xscard-addd4"},"_path":{"segments":["users","tpNykUrXytMDFWrv8PxY3TBfr1k2"]},"_converter":{}}],"memberCount":1}]}},
  {"test": "GET /enterprise/x-spark-test/departments/test-dept-1 (get by ID)", "curl": "curl -X GET http://localhost:8383/enterprise/x-spark-test/departments/test-dept-1 -H 'Authorization: Bearer <TOKEN>'", "response": {"success":true,"department":{"id":"test-dept-1","name":"test-dept-1","description":"Test Department 1","parentDepartmentId":null,"createdAt":{"_seconds":1753366906,"_nanoseconds":487000000},"updatedAt":{"_seconds":1753366906,"_nanoseconds":487000000},"memberCount":0,"managers":[]}}},
  {"test": "POST /enterprise/x-spark-test/departments (create, missing name)", "curl": "curl -X POST http://localhost:8383/enterprise/x-spark-test/departments -H 'Authorization: Bearer <TOKEN>' -H 'Content-Type: application/json' -d '{\"description\":\"No name\"}'", "response": {"success":false,"message":"Department name is required"}},
  {"test": "POST /enterprise/x-spark-test/departments (create, duplicate name)", "curl": "curl -X POST http://localhost:8383/enterprise/x-spark-test/departments -H 'Authorization: Bearer <TOKEN>' -H 'Content-Type: application/json' -d '{\"name\":\"test-dept-1\",\"description\":\"Duplicate department\"}'", "response": {"success":false,"message":"A department with this name already exists"}},
  {"test": "PUT /enterprise/x-spark-test/departments/test-dept-1 (update, positive)", "curl": "curl -X PUT http://localhost:8383/enterprise/x-spark-test/departments/test-dept-1 -H 'Authorization: Bearer <TOKEN>' -H 'Content-Type: application/json' -d '{\"description\":\"Updated department description\"}'", "response": {"success":true,"message":"Department updated successfully","managersAdded":[],"managersRemoved":[],"managersRoleChanged":[],"department":{"id":"test-dept-1","name":"test-dept-1","parentDepartmentId":null,"createdAt":"2025-07-24T14:21:46.487Z","memberCount":0,"managers":[],"description":"Updated department description","updatedAt":"2025-07-24T14:24:52.380Z"}}},
  {"test": "PUT /enterprise/x-spark-test/departments/non-existent-dept (update, negative)", "curl": "curl -X PUT http://localhost:8383/enterprise/x-spark-test/departments/non-existent-dept -H 'Authorization: Bearer <TOKEN>' -H 'Content-Type: application/json' -d '{\"description\":\"Should fail\"}'", "response": {"success":false,"message":"Department not found"}},
  {"test": "POST /enterprise/x-spark-test/departments/test-dept-1/employees (add, positive)", "curl": "curl -X POST http://localhost:8383/enterprise/x-spark-test/departments/test-dept-1/employees -H 'Authorization: Bearer <TOKEN>' -H 'Content-Type: application/json' -d '{\"email\":\"testemp1@gufum.com\",\"firstName\":\"Test\",\"lastName\":\"Employee\",\"role\":\"employee\"}'", "response": {"success":true,"message":"Employee added successfully","employee":{"id":"uPacHXyLS81zdx7yKd7L","userId":"vF5tBG0r2LgAj3XLF2Zu","name":"Test","surname":"Employee","email":"testemp1@gufum.com","phone":"","role":"employee","position":"","profileImage":"","employeeId":"","teamId":null,"isActive":true,"createdAt":"2025-07-24T14:26:33.989Z","updatedAt":"2025-07-24T14:26:33.989Z"},"team":null}},
  {"test": "POST /enterprise/x-spark-test/departments/test-dept-1/employees (add, missing fields)", "curl": "curl -X POST http://localhost:8383/enterprise/x-spark-test/departments/test-dept-1/employees -H 'Authorization: Bearer <TOKEN>' -H 'Content-Type: application/json' -d '{\"role\":\"employee\"}'", "response": {"success":false,"message":"Either userId or email is required"}},
  {"test": "GET /enterprise/x-spark-test/departments/test-dept-1/employees (get all)", "curl": "curl -X GET http://localhost:8383/enterprise/x-spark-test/departments/test-dept-1/employees -H 'Authorization: Bearer <TOKEN>'", "response": {"success":true,"employees":[{"id":"uPacHXyLS81zdx7yKd7L","userId":{"_firestore":{"projectId":"xscard-addd4"},"_path":{"segments":["users","vF5tBG0r2LgAj3XLF2Zu"]},"_converter":{}},"name":"Test","surname":"Employee","email":"testemp1@gufum.com","phone":"","role":"employee","position":"","profileImage":"","employeeId":"","teamId":null,"isActive":true,"createdAt":"2025-07-24T14:26:33.989Z","updatedAt":{"_seconds":1753367193,"_nanoseconds":989000000}}],"count":1}},
  {"test": "GET /enterprise/x-spark-test/departments/test-dept-1/employees/uPacHXyLS81zdx7yKd7L (get by ID, positive)", "curl": "curl -X GET http://localhost:8383/enterprise/x-spark-test/departments/test-dept-1/employees/uPacHXyLS81zdx7yKd7L -H 'Authorization: Bearer <TOKEN>'", "response": {"success":true,"employee":{"id":"uPacHXyLS81zdx7yKd7L","userId":{"_firestore":{"projectId":"xscard-addd4"},"_path":{"segments":["users","vF5tBG0r2LgAj3XLF2Zu"]},"_converter":{}},"name":"Test","surname":"Employee","email":"testemp1@gufum.com","phone":"","role":"employee","position":"","profileImage":"","employeeId":"","teamId":null,"isActive":true,"createdAt":"2025-07-24T14:26:33.989Z","updatedAt":{"_seconds":1753367193,"_nanoseconds":989000000}},"cards":null}},
  {"test": "GET /enterprise/x-spark-test/departments/test-dept-1/employees/non-existent-emp (get by ID, negative)", "curl": "curl -X GET http://localhost:8383/enterprise/x-spark-test/departments/test-dept-1/employees/non-existent-emp -H 'Authorization: Bearer <TOKEN>'", "response": {"success":false,"message":"Employee not found"}},
  {"test": "PUT /enterprise/x-spark-test/departments/test-dept-1/employees/uPacHXyLS81zdx7yKd7L (update, positive)", "curl": "curl -X PUT http://localhost:8383/enterprise/x-spark-test/departments/test-dept-1/employees/uPacHXyLS81zdx7yKd7L -H 'Authorization: Bearer <TOKEN>' -H 'Content-Type: application/json' -d '{\"position\":\"Updated Position\"}'", "response": {"success":true,"message":"Employee updated successfully","employee":{"id":"uPacHXyLS81zdx7yKd7L","userId":"vF5tBG0r2LgAj3XLF2Zu","name":"Test","surname":"Employee","email":"testemp1@gufum.com","phone":"","role":"employee","profileImage":"","employeeId":"","teamId":null,"isActive":true,"createdAt":"2025-07-24T14:26:33.989Z","position":"Updated Position","updatedAt":"2025-07-24T14:28:31.144Z"}}},
  {"test": "PUT /enterprise/x-spark-test/departments/test-dept-1/employees/non-existent-emp (update, negative)", "curl": "curl -X PUT http://localhost:8383/enterprise/x-spark-test/departments/test-dept-1/employees/non-existent-emp -H 'Authorization: Bearer <TOKEN>' -H 'Content-Type: application/json' -d '{\"position\":\"Should fail\"}'", "response": {"success":false,"message":"Employee not found"}},
  {"test": "DELETE /enterprise/x-spark-test/departments/test-dept-1/employees/uPacHXyLS81zdx7yKd7L (delete, positive)", "curl": "curl -X DELETE http://localhost:8383/enterprise/x-spark-test/departments/test-dept-1/employees/uPacHXyLS81zdx7yKd7L -H 'Authorization: Bearer <TOKEN>'", "response": {"success":true,"message":"Employee deleted successfully","employeeId":"uPacHXyLS81zdx7yKd7L","departmentId":"test-dept-1"}},
  {"test": "DELETE /enterprise/x-spark-test/departments/test-dept-1/employees/non-existent-emp (delete, negative)", "curl": "curl -X DELETE http://localhost:8383/enterprise/x-spark-test/departments/test-dept-1/employees/non-existent-emp -H 'Authorization: Bearer <TOKEN>'", "response": {"success":false,"message":"Employee not found"}},
  {"test": "DELETE /enterprise/x-spark-test/departments/test-dept-1 (delete, positive)", "curl": "curl -X DELETE http://localhost:8383/enterprise/x-spark-test/departments/test-dept-1 -H 'Authorization: Bearer <TOKEN>'", "response": {"success":true,"message":"Department deleted successfully","departmentId":"test-dept-1"}},
  {"test": "DELETE /enterprise/x-spark-test/departments/non-existent-dept (delete, negative)", "curl": "curl -X DELETE http://localhost:8383/enterprise/x-spark-test/departments/non-existent-dept -H 'Authorization: Bearer <TOKEN>'", "response": {"success":false,"message":"Department not found"}}
] 